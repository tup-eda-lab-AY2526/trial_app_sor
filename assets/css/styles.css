* { box-sizing: border-box; }
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; margin: 0; color: #222; background: #fafafa; }
.container { max-width: 1100px; margin: 0 auto; padding: 16px; }
h1 { margin: 8px 0 16px; font-size: 22px; }
section.controls { background: #fff; border: 1px solid #e5e5e5; border-radius: 8px; padding: 12px; margin-bottom: 16px; }
.control-group { display: flex; flex-direction: column; margin-right: 12px; margin-bottom: 8px; }
.control-group input { padding: 6px 8px; border: 1px solid #cfcfcf; border-radius: 6px; }
.row { display: flex; flex-wrap: wrap; align-items: flex-end; gap: 8px; }
button { background: #2563eb; border: none; color: white; padding: 8px 12px; border-radius: 6px; cursor: pointer; }
button.secondary { background: #6b7280; }
button:disabled { background: #9ca3af; cursor: not-allowed; }
.hint { color: #6b7280; font-size: 12px; }

section.results { margin-bottom: 12px; }
.summary { background: #fff; border: 1px solid #e5e5e5; border-radius: 8px; padding: 12px; }
.summary .pass { color: #065f46; background: #d1fae5; padding: 2px 6px; border-radius: 4px; }
.summary .fail { color: #7f1d1d; background: #fee2e2; padding: 2px 6px; border-radius: 4px; }
.summary .key { color: #374151; }
.summary .val { font-weight: 600; }

section.plot { background: #fff; border: 1px solid #e5e5e5; border-radius: 8px; padding: 12px; }
.legend { margin-bottom: 6px; display: flex; gap: 18px; flex-wrap: wrap; align-items: center; }
.legend-item { font-size: 12px; color: #374151; display: inline-flex; align-items: center; gap: 6px; }
.swatch { width: 14px; height: 10px; display: inline-block; border-radius: 2px; border: 1px solid #e5e5e5; }
.swatch-ground { background: #8b5a2b; }
.swatch-los { background: #2563eb; }
.swatch-fresnel { background: rgba(99, 102, 241, 0.25); border-color: rgba(99, 102, 241, 0.5); }
.swatch-obstruct { background: #ef4444; }

.footer { color: #6b7280; font-size: 12px; margin-top: 12px; }
